{"version":3,"sources":["components/Header/index.js","containers/App/index.js","components/Uploader/index.js","containers/Home/index.js","containers/DashBoard/index.js","components/ChinaMap/index.js","components/Map/index.js","components/BubbleMap/index.js","components/Industry/index.js","router.js","serviceWorker.js","index.js"],"names":["Header","mode","theme","style","lineHeight","border","background","Item","key","to","type","App","children","className","color","Dragger","withRouter","history","useState","disabled","setDisabled","props","name","accept","multiple","action","file","Promise","resolve","reader","FileReader","readAsText","onload","evt","dataArr","target","result","split","slice","map","data","window","localStorage","setItem","JSON","stringify","message","success","textAlign","margin","width","onClick","push","Home","id","Sider","height","borderRight","defaultSelectedKeys","item","padding","ChinaMap","area","maxData","useEffect","myChart","echarts","init","document","getElementById","option","tooltip","trigger","legend","show","grid","left","top","visualMap","min","max","text","textStyle","reverse","toolbox","series","label","position","showLegendSymbol","zoom","itemStyle","areaColor","borderColor","borderWidth","shadowBlur","shadowColor","setOption","drawMap","Content","Option","Map","dataset","parse","getItem","selectData","Set","options","filterData","value","filter","index","formatter","setArea","Math","apply","setMaxData","showSearch","defaultValue","placeholder","optionFilterProp","onChange","categoryData","areaData","filterOption","input","indexOf","BubbleMap","instiName","industryName","params","bottom","right","containLabel","xAxis","boundaryGap","splitLine","lineStyle","axisLine","axisLabel","interval","yAxis","symbolSize","val","animationDelay","idx","drawBubbleMap","Industry","setIndustryName","setInstiName","setDataSet","axios","get","then","response","d","reduce","acc","cur","concat","i","Routes","path","component","exact","render","Boolean","location","hostname","match","ReactDOM","forceRefresh","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6686e56e.chunk.js","sourcesContent":["import React from 'react';\nimport { Menu,Icon } from 'antd';\nimport { Link } from 'react-router-dom';\n\n// import {tabKeyRouterMap} from '../../constants'\nfunction Header(){\n    return (\n        <Menu mode=\"horizontal\"  theme=\"dark\" style={{lineHeight:'62px',border:0,background:'none'}}>\n            <Menu.Item key=\"home\"><Link to=\"/\"><Icon type=\"home\"></Icon>首页</Link></Menu.Item>\n            {/* <Menu.Item><Icon type=\"global\"></Icon>中国地图可视化</Menu.Item> */}\n        </Menu>\n    )\n\n}\nexport default Header;","import React from 'react';\nimport { BackTop,Layout } from 'antd';\nimport Header from '../../components/Header';\nimport './index.css';\n\nfunction App({ children }) {\n  return (\n    <div className=\"App\">\n        <BackTop />\n        <Layout style={{background:'none'}}>\n          <Layout.Header className=\"header\" style={{ background:'rgba(255,255,255,0.1)',color:'white' }}>\n            <Header></Header>\n          </Layout.Header>\n          <div className=\"App-header\">\n          {children}\n          </div>\n        </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","import React,{ useState } from 'react';\nimport { Upload,Icon,message,Button } from 'antd';\nimport { withRouter } from 'react-router-dom';\nconst { Dragger } = Upload;\n\nfunction Uploader({ history }) {\n  const [disabled,setDisabled] = useState(true)\n  const props = {\n    name: 'file',\n    accept: '.csv',\n    multiple: false,\n    action: file => {\n      return new Promise(resolve => {\n        const reader = new FileReader();\n        reader.readAsText(file,'utf8');\n        reader.onload = evt => {\n          const dataset = evt.target.result.split('\\r\\n');\n          const dataArr = dataset.slice(1).map(data => data.split(','))\n          const storage = window.localStorage;\n          storage.setItem('data',JSON.stringify(dataArr));\n          setDisabled(false)\n          message.success(`${file.name} file uploaded successfully.`);\n        }\n      })\n    }\n  };\n  function handleClick(){\n    history.push('/dashboard/map');\n  }\n  return (\n    <div>\n      <Dragger {...props} style={{textAlign: 'center',margin:'100px auto',width:'90vw',background:'rgba(255,255,255,0.1)'}}>\n        <p className=\"ant-upload-drag-icon\" style={{lineHeight: '10vw'}}>\n          <Icon type=\"inbox\" />\n        </p>\n        <p className=\"ant-upload-text\" style={{ lineHeight: '5vw'}}>点击或者拖拽文件到这个区域上传</p>\n        <p className=\"ant-upload-hint\" style={{ lineHeight: '5vw'}}>\n          支持csv格式文件上传，文件上传完毕后，点击按钮，进行文件数据分析，赶紧尝试一下吧\n        </p>\n      </Dragger>\n      <p style={{textAlign: 'center',margin:'0px auto'}}><Button type=\"primary\" disabled={disabled} onClick ={handleClick}>进入DashBoard分析</Button></p>\n    </div>\n  );\n\n}\nexport default withRouter(Uploader)\n\n","import React from 'react';\nimport Uploader from '../../components/Uploader';\n\nconst Home = ()=>{\n    return (\n        <div id=\"home\">\n            <Uploader></Uploader>\n        </div>\n    );\n    \n}\n\nexport default Home;","import React from 'react';\nimport { Layout,Menu,Icon } from 'antd';\nimport { withRouter } from 'react-router-dom';\n\nconst { Sider } = Layout;\n\nfunction DashBoard({history,children}) {\n    function handleClick(item){\n        const path = {\n            'map':'/map',\n            'industry':'/industry'\n        }\n        history.push('/dashboard'+path[item.key]);\n    }\n\n    return (\n        <Layout style={{background:'none' }}>\n            <Sider width={200} style={{ background: 'none'}}>\n                <Menu mode=\"inline\" theme=\"dark\" style={{ height: \"calc(100vh - 74px)\",borderRight: 0,background: 'rgba(255,255,255,0.1)'}} defaultSelectedKeys={['map']} onClick={handleClick}>\n                    <Menu.Item key=\"map\"><Icon type=\"global\"></Icon>地域分析</Menu.Item>\n                    <Menu.Item key=\"industry\"><Icon type=\"global\"></Icon>产业分析</Menu.Item>\n                </Menu>\n            </Sider>\n            <Layout style={{ margin: '0 5px',background:'rgba(255,255,255,0.1)', height: \"calc(100vh - 74px)\",padding:24}}>               \n                {children}  \n            </Layout>\n        </Layout>\n    );\n}\n\nexport default withRouter(DashBoard);","import React,{useEffect}from 'react';\nimport echarts from 'echarts/lib/echarts';\nimport 'echarts/lib/chart/map';\nimport 'echarts/lib/component/visualMapContinuous';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/map/js/china';\n\nconst ChinaMap = ({ area,maxData }) => {\n\n    const drawMap = (area,maxData) => {\n        // 基于准备好的DOM，初始化echarts实例\n        const myChart = echarts.init(document.getElementById('chinaMap'));\n        // 指定图标配置项和数据\n        const option = {\n            tooltip: {\n                trigger: 'item'\n            },\n            legend: {\n                show: false\n            },\n            grid:{\n                left:0,\n                top:10\n            },\n            visualMap: {\n                min: 0,\n                max: maxData,\n                text: ['高','低'], // 文本，默认为数值文本\n                textStyle:{\n                    color:'white'\n                },\n                color:['#BDE8FF','#9EC9FF','#7EABFF','#5A8DF8','#3874DB','#005BBF','#0044A4','#122C6A'].reverse()\n            },\n            toolbox: {\n                show: false\n            },\n            series: [{\n                name: 'chinaMap',\n                type: 'map',\n                map: 'china',\n                label: {\n                    position: 'inside',\n                    color:'#fff'\n                },\n                showLegendSymbol: false,\n                data: area,\n                zoom:1.2,\n                itemStyle:{\n                    areaColor:'rgba(255,255,255,0.2)',\n                    borderColor:'#1890ff',\n                    borderWidth:0.5,\n                    shadowBlur:1,\n                    shadowColor:'#1890ff'\n                    \n                }\n            }]\n        };\n        // 使用刚指定的配置项和数据显示图表。\n        myChart.setOption(option);\n    }\n\n    useEffect(()=>{\n        drawMap(area,maxData)\n    })\n    return (\n        <div id=\"chinaMap\" style={{height:\"90%\"}}>\n        </div>\n    )\n}\n\nexport default ChinaMap;","import React,{ useState } from 'react';\nimport ChinaMap from '../ChinaMap';\nimport { Layout,Select } from 'antd';\n\nconst { Content } = Layout;\nconst { Option } = Select;\n\nconst Map = () => {\n    let dataset = JSON.parse(window.localStorage.getItem('data'))\n\n    let selectData = [...new Set(dataset.map(item => item[1]))]\n    const options = selectData.map(item => (\n        <Option key={item}>{item}</Option>\n    ))\n\n    const filterData = value => {\n        return dataset.filter(data => data[1] === value);\n    }\n    const [area,setArea] = useState(filterData(selectData[0]).map((data,index) => (\n        {\n            name: data[0],\n            value: +data[2],\n            label: {\n                show: true,\n                formatter: '{b}'\n            }\n        }\n    )));\n\n    const [maxData,setMaxData] = useState(Math.max.apply(null,filterData(selectData[0]).map(data => +data[2])));\n\n    const onChange = value => {\n        let categoryData = filterData(value)\n        let areaData = categoryData.map((data,index) => (\n            {\n                name: data[0],\n                value: +data[2],\n                label: {\n                    show: true,\n                    formatter: '{b}'\n                }\n            }\n        ))\n        let maxData = Math.max.apply(null,categoryData.map(data => +data[2]))\n        setArea(areaData)\n        setMaxData(maxData)\n    }\n\n    return (\n        <Content style={{ background: 'rgba(255,255,255,0)'}}>\n            <Select showSearch defaultValue={selectData[0]} style={{ width: 200 }} placeholder=\"选择分类\" optionFilterProp=\"children\" onChange={onChange} filterOption={(input,option) => option.props.children.indexOf(input) >= 0}>\n                {options}\n            </Select>\n            <ChinaMap area={area} maxData={maxData}></ChinaMap>\n        </Content>\n    )\n\n}\nexport default Map;","import React,{useEffect} from 'react';\nimport echarts from 'echarts/lib/echarts';\nimport 'echarts/lib/chart/scatter';\nimport 'echarts/lib/component/axis';\nimport 'echarts/lib/component/grid';\nimport 'echarts/lib/component/tooltip';\n\nconst BubbleMap =({instiName,industryName,dataset})=>{\n    \n    const drawBubbleMap = (instiName,industryName,dataset)=>{\n        // 基于准备好的DOM，初始化echarts实例\n        const myChart = echarts.init(document.getElementById('bubbleMap'));\n        const color =['#5B8FF9','#5AD8A6','#FF99C3','#F6BD16','#E8684A','#6DC8EC','#9270CA','#FF9D4D','#269A99']\n        // 指定图标配置项和数据\n        const option = {\n            tooltip: {\n                position: 'top',\n                formatter: function (params) {\n                    return params.value[2]*5 + '个 ' + industryName[params.value[0]] + ' of ' + instiName[params.value[1]];\n                }\n            },\n            grid: {\n                left: 20,\n                bottom: 10,\n                top:10,\n                right: 20,\n                containLabel: true\n            },\n            xAxis: {\n                type: 'category',\n                position:'top',\n                data: industryName,\n                boundaryGap: false,\n                splitLine: {\n                    show: true,\n                    lineStyle: {\n                        color: '#999',\n                        type: 'dashed'\n                    }\n                },\n                axisLine: {\n                    show: false\n                },\n                axisLabel:{\n                    color:'#fff',\n                    interval:0\n                }\n            },\n            yAxis: {\n                type: 'category',\n                data: instiName,\n                axisLine: {\n                    show: false\n                },\n                axisLabel:{\n                    color:'#fff'\n                }\n            },\n            series: [{\n                name: '产业分析',\n                type: 'scatter',\n                symbolSize: function (val) {\n                    if(val[2]<=2 && val[2]>0){\n                        return 2*2\n                    }\n                    if(val[2]>=30){\n                        return 30*2\n                    }\n                    else{\n                        return val[2] * 2;\n                    }\n                },\n                data: dataset,\n                animationDelay: function (idx) {\n                    return idx * 5;\n                },\n                itemStyle:{\n                    color:function(params){\n                        return color[params.value[0]]\n                    }\n                }\n            }]\n        }\n        // 使用刚指定的配置项和数据显示图表。\n        myChart.setOption(option);\n    }\n    useEffect(()=>{\n        drawBubbleMap(instiName,industryName,dataset)  \n    })\n    \n    return (\n        <div id=\"bubbleMap\" style={{height:\"500%\",width:\"100%\"}}>\n        </div>\n    )\n\n}\n\nexport default BubbleMap;","import React,{ useState,useEffect } from 'react';\nimport {Layout} from 'antd';\nimport BubbleMap from '../BubbleMap';\nimport axios from 'axios';\n\nconst { Content } = Layout;\n\nconst Industry = () => {\n    const [industryName,setIndustryName] = useState([])\n    const [instiName,setInstiName] = useState([])\n    const [dataset,setDataSet] = useState([])\n\n    useEffect(()=>{\n        axios.get('/data/industryData.csv').then(response=>{\n            let data = response.data.split('\\r').slice(0,51);\n            let industryName = data[0].split(\",\").slice(1,-1);\n            let instiName = data.slice(1).map(d=>d.split(\",\")[0])\n            let dataset = data.slice(1).reduce((acc,cur,index)=>{\n                return acc.concat(cur.split(\",\").slice(1).map((d,i)=>[i,index,(+d)/5]))\n            },[])\n            setIndustryName(industryName)\n            setInstiName(instiName)\n            setDataSet(dataset)\n        })\n    },[])\n    \n    return (\n        <Content style={{ background: 'rgba(255,255,255,0)' }}>       \n            <BubbleMap instiName= {instiName} industryName={industryName} dataset={dataset}></BubbleMap>\n        </Content>\n    )\n\n}\n\nexport default Industry;","import React from 'react';\nimport { BrowserRouter,Route,Switch } from 'react-router-dom';\nimport Home from \"./containers/Home\";\nimport DashBoard from \"./containers/DashBoard\";\nimport Map from './components/Map';\nimport Industry from './components/Industry';\n\nfunction Routes() {\n    return (\n        <BrowserRouter>\n            <Switch>        \n                <Route path=\"/\" component={Home} exact></Route>\n                <Route path=\"/home\" component={Home} exact></Route>\n                <Route path=\"/dashboard\" render={()=>\n                    <DashBoard>\n                        <Route exact path=\"/dashboard\" component={Map}></Route>\n                        <Route exact path=\"/dashboard/map\" component={Map}></Route>\n                        <Route exact path=\"/dashboard/industry\" component={Industry}></Route>\n                    </DashBoard>\n                }></Route>\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nexport default Routes\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport Routes from './router';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n        <BrowserRouter forceRefresh ={true}>\n            <App>\n                <Routes />\n            </App>\n        </BrowserRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}