(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3de7b963"],{"0141":function(e,t,n){var i=n("6d8b"),a=n("9850"),o=n("6cc5"),r=n("5b87");function s(e,t,n,i){o.call(this,e),this.map=t;var a=r.load(t,n);this._nameCoordMap=a.nameCoordMap,this._regionsMap=a.regionsMap,this._invertLongitute=null==i||i,this.regions=a.regions,this._rect=a.boundingRect}function l(e,t,n,i){var a=n.geoModel,o=n.seriesModel,r=a?a.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[e](i):null}s.prototype={constructor:s,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),r=this._invertLongitute;o=o.clone(),r&&(o.y=-o.y-o.height);var s=this._rawTransformable;if(s.transform=o.calculateTransform(new a(e,t,n,i)),s.decomposeTransform(),r){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,n){if("string"===typeof e&&(e=this.getGeoCoord(e)),e)return o.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:i.curry(l,"dataToPoint"),convertFromPixel:i.curry(l,"pointToData")},i.mixin(s,o);var c=s;e.exports=c},"01ef":function(e,t){function n(e,t,n){var i=e.target,a=i.position;a[0]+=t,a[1]+=n,i.dirty()}function i(e,t,n,i){var a=e.target,o=e.zoomLimit,r=a.position,s=a.scale,l=e.zoom=e.zoom||1;if(l*=t,o){var c=o.min||0,u=o.max||1/0;l=Math.max(Math.min(u,l),c)}var h=l/e.zoom;e.zoom=l,r[0]-=(n-r[0])*(h-1),r[1]-=(i-r[1])*(h-1),s[0]*=h,s[1]*=h,a.dirty()}t.updateViewOnPan=n,t.updateViewOnZoom=i},"0c41":function(e,t,n){var i=n("6d8b"),a=n("4a01"),o=n("01ef"),r=n("c526"),s=r.onIrrelevantElement,l=n("2306"),c=n("5b87"),u=n("8918"),h=u.getUID;function p(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function d(e,t,n,a,o){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",(function(){e._mouseDownFlag=!0})),n.on("click",(function(r){if(e._mouseDownFlag){e._mouseDownFlag=!1;var s=r.target;while(!s.__regions)s=s.parent;if(s){var l={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:i.map(s.__regions,(function(e){return{name:e.name,from:o.uid}}))};l[t.mainType+"Id"]=t.id,a.dispatchAction(l),f(t,n)}}})))}function f(e,t){t.eachChild((function(t){i.each(t.__regions,(function(n){t.trigger(e.isSelected(n.name)?"emphasis":"normal")}))}))}function g(e,t){var n=new l.Group;this.uid=h("ec_map_draw"),this._controller=new a(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new l.Group),n.add(this._backgroundGroup=new l.Group)}g.prototype={constructor:g,draw:function(e,t,n,a,o){var r="geo"===e.mainType,s=e.getData&&e.getData();r&&t.eachComponent({mainType:"series",subType:"map"},(function(t){s||t.getHostGeoModel()!==e||(s=t.getData())}));var c=e.coordinateSystem;this._updateBackground(c);var u=this._regionsGroup,h=this.group;c._roamTransformable.transform&&(h.transform=c._roamTransformable.transform.slice(),h.decomposeTransform());var g=c._rawTransformable.scale,m=c._rawTransformable.position;u.removeAll();var v=["itemStyle"],y=["emphasis","itemStyle"],b=["label"],_=["emphasis","label"],x=i.createHashMap();i.each(c.regions,(function(t){var n=x.get(t.name)||x.set(t.name,new l.Group),a=new l.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});n.add(a);var o,c=e.getRegionModel(t.name)||e,d=c.getModel(v),f=c.getModel(y),M=p(d),w=p(f),S=c.getModel(b),T=c.getModel(_);if(s){o=s.indexOfName(t.name);var D=s.getItemVisual(o,"color",!0);D&&(M.fill=D)}var C=function(e){return[e[0]*g[0]+m[0],e[1]*g[1]+m[1]]};i.each(t.geometries,(function(e){if("polygon"===e.type){for(var t=[],n=0;n<e.exterior.length;++n)t.push(C(e.exterior[n]));a.shape.paths.push(new l.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}));for(n=0;n<(e.interiors?e.interiors.length:0);++n){for(var i=e.interiors[n],o=(t=[],0);o<i.length;++o)t.push(C(i[o]));a.shape.paths.push(new l.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}))}}})),a.setStyle(M),a.style.strokeNoScale=!0,a.culling=!0;var R=S.get("show"),V=T.get("show"),L=s&&isNaN(s.get(s.mapDimension("value"),o)),O=s&&s.getItemLayout(o);if(r||L&&(R||V)||O&&O.showLabel){var I,z=r?t.name:o;(!s||o>=0)&&(I=e);var H=new l.Text({position:C(t.center.slice()),scale:[1/h.scale[0],1/h.scale[1]],z2:10,silent:!0});l.setLabelStyle(H.style,H.hoverStyle={},S,T,{labelFetcher:I,labelDataIndex:z,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(H)}if(s)s.setItemGraphicEl(o,n);else{c=e.getRegionModel(t.name);a.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:c&&c.option||{}}}var k=n.__regions||(n.__regions=[]);k.push(t),n.highDownSilentOnTouch=!!e.get("selectedMode"),l.setHoverStyle(n,w),u.add(n)})),this._updateController(e,t,n),d(this,e,u,n,a),f(e,u)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&c.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&i.each(c.makeGraphic(t,this.uid),(function(e){this._backgroundGroup.add(e)}),this),this._mapName=t},_updateController:function(e,t,n){var a=e.coordinateSystem,r=this._controller,l=this._controllerHost;l.zoomLimit=e.get("scaleLimit"),l.zoom=a.getZoom(),r.enable(e.get("roam")||!1);var c=e.mainType;function u(){var t={type:"geoRoam",componentType:c};return t[c+"Id"]=e.id,t}r.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,o.updateViewOnPan(l,e.dx,e.dy),n.dispatchAction(i.extend(u(),{dx:e.dx,dy:e.dy}))}),this),r.off("zoom").on("zoom",(function(e){if(this._mouseDownFlag=!1,o.updateViewOnZoom(l,e.scale,e.originX,e.originY),n.dispatchAction(i.extend(u(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var t=this.group.scale;this._regionsGroup.traverse((function(e){"text"===e.type&&e.attr("scale",[1/t[0],1/t[1]])}))}}),this),r.setPointerChecker((function(t,i,o){return a.getViewRectAfterRoam().contain(i,o)&&!s(t,n,e)}))}};var m=g;e.exports=m},"0dbe":function(e,t,n){},1792:function(e,t){var n={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function i(e,t){if("china"===e){var i=n[t.name];if(i){var a=t.center;a[0]+=i[0]/10.5,a[1]+=-i[1]/14}}}e.exports=i},"2b8c":function(e,t,n){var i=n("6d8b"),a=n("5f14"),o=i.each;function r(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function s(e,t,n){var r={};return o(t,(function(t){var l=r[t]=s();o(e[t],(function(e,o){if(a.isValidType(o)){var r={type:o,visual:e};n&&n(r,t),l[o]=new a(r),"opacity"===o&&(r=i.clone(r),r.type="colorAlpha",l.__hidden.__alphaForOpacity=new a(r))}}))})),r;function s(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function l(e,t,n){var a;i.each(n,(function(e){t.hasOwnProperty(e)&&r(t[e])&&(a=!0)})),a&&i.each(n,(function(n){t.hasOwnProperty(n)&&r(t[n])?e[n]=i.clone(t[n]):delete e[n]}))}function c(e,t,n,o,r,s){var l,c={};function u(e){return n.getItemVisual(l,e)}function h(e,t){n.setItemVisual(l,e,t)}function p(e,i){l=null==s?e:i;var a=n.getRawDataItem(l);if(!a||!1!==a.visualMap)for(var p=o.call(r,e),d=t[p],f=c[p],g=0,m=f.length;g<m;g++){var v=f[g];d[v]&&d[v].applyVisual(e,u,h)}}i.each(e,(function(e){var n=a.prepareVisualTypes(t[e]);c[e]=n})),null==s?n.each(p):n.each([s],p)}function u(e,t,n,o){var r={};function s(e,i){function a(e){return i.getItemVisual(l,e)}function s(e,t){i.setItemVisual(l,e,t)}var l;null!=o&&(o=i.getDimension(o));while(null!=(l=e.next())){var c=i.getRawDataItem(l);if(!c||!1!==c.visualMap)for(var u=null!=o?i.get(o,l,!0):l,h=n(u),p=t[h],d=r[h],f=0,g=d.length;f<g;f++){var m=d[f];p[m]&&p[m].applyVisual(u,a,s)}}}return i.each(e,(function(e){var n=a.prepareVisualTypes(t[e]);r[e]=n})),{progress:s}}t.createVisualMappings=s,t.replaceVisualOption=l,t.applyVisual=c,t.incrementalApplyVisual=u},"2bd0":function(e,t,n){"use strict";var i=n("0dbe"),a=n.n(i);a.a},"307a":function(e,t,n){var i=n("6d8b"),a=n("eaea"),o=n("3842"),r=[20,140],s=a.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=r[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=r[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):i.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){a.prototype.completeVisualOption.apply(this,arguments),i.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)}),this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=o.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],a=n.getData();a.each(this.getDataDimension(a),(function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},getVisualMeta:function(e){var t=l(this,"outOfRange",this.getExtent()),n=l(this,"inRange",this.option.range.slice()),i=[];function a(t,n){i.push({value:t,color:e(t,n)})}for(var o=0,r=0,s=n.length,c=t.length;r<c&&(!n.length||t[r]<=n[0]);r++)t[r]<n[o]&&a(t[r],"outOfRange");for(var u=1;o<s;o++,u=0)u&&i.length&&a(n[o],"outOfRange"),a(n[o],"inRange");for(u=1;r<c;r++)(!n.length||n[n.length-1]<t[r])&&(u&&(i.length&&a(i[i.length-1].value,"outOfRange"),u=0),a(t[r],"outOfRange"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:"transparent",h?i[h-1].color:"transparent"]}}});function l(e,t,n){if(n[0]===n[1])return n.slice();for(var i=200,a=(n[1]-n[0])/i,o=n[0],r=[],s=0;s<=i&&o<n[1];s++)r.push(o),o+=a;return r.push(n[1]),r}var c=s;e.exports=c},"320a":function(e,t,n){for(var i=n("6d8b"),a=n("f279"),o=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],s=0;s<r.length;s++)for(var l=0;l<r[s].length;l++)r[s][l][0]/=10.5,r[s][l][1]/=-14,r[s][l][0]+=o[0],r[s][l][1]+=o[1];function c(e,t){"china"===e&&t.push(new a("南海诸岛",i.map(r,(function(e){return{type:"polygon",exterior:e}})),o))}e.exports=c},"3cd6":function(e,t,n){var i=n("6d8b"),a=n("48a9"),o=n("607d"),r=n("72b6"),s=n("2306"),l=n("3842"),c=n("ef6a"),u=n("cbb0"),h=n("e0d3"),p=l.linearMap,d=i.each,f=Math.min,g=Math.max,m=12,v=6,y=r.extend({type:"visualMap.continuous",init:function(){y.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var a=this.visualMapModel,o=a.get("textGap"),r=a.itemSize,l=this._shapes.barGroup,c=this._applyTransform([r[0]/2,0===n?-o:r[1]+o],l),u=this._applyTransform(0===n?"bottom":"top",l),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===h?"middle":u,textAlign:"horizontal"===h?u:"center",text:i,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,a=t.itemSize,o=this._orient,r=this._useHandle,s=u.getItemAlign(t,this.api,a),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=b()),l.add(n.inRange=b(null,r?S(this._orient):null,i.bind(this._dragHandle,this,"all",!1),i.bind(this._dragHandle,this,"all",!0)));var c=t.textStyleModel.getTextRect("国"),h=g(c.width,c.height);r&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,a,h,o,s),this._createHandle(l,1,a,h,o,s)),this._createIndicator(l,a,h,o),e.add(l)},_createHandle:function(e,t,n,a,r){var l=i.bind(this._dragHandle,this,t,!1),c=i.bind(this._dragHandle,this,t,!0),u=b(_(t,a),S(this._orient),l,c);u.position[0]=n[0],e.add(u);var h=this.visualMapModel.textStyleModel,p=new s.Text({draggable:!0,drift:l,onmousemove:function(e){o.stop(e.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:h.getFont(),textFill:h.getTextColor()}});this.group.add(p);var d=["horizontal"===r?a/2:1.5*a,"horizontal"===r?0===t?-1.5*a:1.5*a:0===t?-a/2:a/2],f=this._shapes;f.handleThumbs[t]=u,f.handleLabelPoints[t]=d,f.handleLabels[t]=p},_createIndicator:function(e,t,n,i){var a=b([[0,0]],"move");a.position[0]=t[0],a.attr({invisible:!0,silent:!0}),e.add(a);var o=this.visualMapModel.textStyleModel,r=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(r);var l=["horizontal"===i?n/2:v+3,0],c=this._shapes;c.indicator=a,c.indicatorLabel=r,c.indicatorLabelPoint=l},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var a=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,a[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():w(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[p(t[0],n,i,!0),p(t[1],n,i,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,a=[0,n.itemSize[1]];c(t,i,a,e,0);var o=n.getExtent();this._dataInterval=[p(i[0],a,o,!0),p(i[1],a,o,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,a=[0,t.itemSize[1]],o=e?a:this._handleEnds,r=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,a,"outOfRange");i.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,r)},_createBarVisual:function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(n,s);return{barColor:new a(0,0,0,1,r),barPoints:l,handlesColor:[r[0].color,r[r.length-1].color]}},_makeColorGradient:function(e,t){var n=100,i=[],a=(e[1]-e[0])/n;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<n;o++){var r=e[0]+a*o;if(r>e[1])break;i.push({color:this.getControllerVisual(r,"color",t),offset:o/n})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,a=n.handleThumbs,o=n.handleLabels;d([0,1],(function(r){var l=a[r];l.setStyle("fill",t.handlesColor[r]),l.position[1]=e[r];var c=s.applyTransform(n.handleLabelPoints[r],s.getTransform(l,this.group));o[r].setStyle({x:c[0],y:c[1],text:i.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",n.barGroup)})}),this)}},_showIndicator:function(e,t,n,i){var a=this.visualMapModel,o=a.getExtent(),r=a.itemSize,l=[0,r[1]],c=p(e,o,l,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=c,h.attr("invisible",!1),h.setShape("points",x(!!n,i,c,r[1]));var d={convertOpacityToAlpha:!0},f=this.getControllerVisual(e,"color",d);h.setStyle("fill",f);var g=s.applyTransform(u.indicatorLabelPoint,s.getTransform(h,this.group)),m=u.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",u.barGroup),y=this._orient;m.setStyle({text:(n||"")+a.formatValueText(t),textVerticalAlign:"horizontal"===y?v:"middle",textAlign:"horizontal"===y?"center":v,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=f(g(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var a=[0,i[1]],o=n.getExtent();e=f(g(a[0],e),a[1]);var r=M(n,o,a),s=[e-r,e+r],l=p(e,a,o,!0),c=[p(s[0],a,o,!0),p(s[1],a,o,!0)];s[0]<a[0]&&(c[0]=-1/0),s[1]>a[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",r):c[1]===1/0?this._showIndicator(l,c[0],"> ",r):this._showIndicator(l,l,"≈ ",r));var d=this._hoverLinkDataIndices,m=[];(t||w(n))&&(m=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var v=h.compressBatches(d,m);this._dispatchHighDown("downplay",u.makeHighDownBatch(v[0],n)),this._dispatchHighDown("highlight",u.makeHighDownBatch(v[1],n))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var a=i.getData(t.dataType),o=a.get(n.getDataDimension(a),t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",u.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,a){var o=s.getTransform(t,a?null:this.group);return s[i.isArray(e)?"applyTransform":"transformDirection"](e,o,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function b(e,t,n,i){return new s.Polygon({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){o.stop(e.event)},ondragend:i})}function _(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function x(e,t,n,i){return e?[[0,-f(t,g(n,0))],[v,0],[0,f(t,g(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function M(e,t,n){var i=m/2,a=e.get("hoverLinkDataSize");return a&&(i=p(a,t,n,!0)/2),i}function w(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function S(e){return"vertical"===e?"ns-resize":"ew-resize"}var T=y;e.exports=T},"49e8":function(e,t,n){var i=n("3eba"),a=n("6d8b"),o=n("d81e"),r=o.updateCenterAndZoom;i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var i=t.coordinateSystem;if("geo"===i.type){var o=r(i,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),"series"===n&&a.each(t.seriesGroup,(function(e){e.setCenter(o.center),e.setZoom(o.zoom)}))}}))}))},"4a01":function(e,t,n){var i=n("6d8b"),a=n("1fab"),o=n("607d"),r=n("a4fe");function s(e){this.pointerChecker,this._zr=e,this._opt={};var t=i.bind,n=t(l,this),o=t(c,this),r=t(u,this),s=t(h,this),d=t(p,this);a.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,a){this.disable(),this._opt=i.defaults(i.clone(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",o),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",d))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",o),e.off("mouseup",r),e.off("mousewheel",s),e.off("pinch",d)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(e){if(!(o.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function c(e){if(this._dragging&&g("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!r.isTaken(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,a=this._y,s=t-i,l=n-a;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&o.stop(e.event),f(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:i,oldY:a,newX:t,newY:n})}}function u(e){o.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function h(e){var t=g("zoomOnMouseWheel",e,this._opt),n=g("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,a=Math.abs(i),o=e.offsetX,r=e.offsetY;if(0!==i&&(t||n)){if(t){var s=a>3?1.4:a>1?1.2:1.1,l=i>0?s:1/s;d(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:o,originY:r})}if(n){var c=Math.abs(i),u=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);d(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:u,originX:o,originY:r})}}}function p(e){if(!r.isTaken(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;d(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY})}}function d(e,t,n,i,a){e.pointerChecker&&e.pointerChecker(i,a.originX,a.originY)&&(o.stop(i.event),f(e,t,n,i,a))}function f(e,t,n,a,o){o.isAvailableBehavior=i.bind(g,null,n,a),e.trigger(t,o)}function g(e,t,n){var a=n[e];return!e||a&&(!i.isString(a)||t.event[a+"Key"])}i.mixin(s,a);var m=s;e.exports=m},"4c86":function(e,t,n){var i=n("6d8b"),a=i.each,o=n("bda7"),r=n("e0d3"),s=r.makeInner,l=n("320a"),c=n("1792"),u=n("6bd4"),h=n("a7f2"),p=s(),d={load:function(e,t){var n=p(t).parsed;if(n)return n;var i,r=t.specialAreas||{},s=t.geoJSON;try{i=s?o(s):[]}catch(d){throw new Error("Invalid geoJson format\n"+d.message)}return a(i,(function(t){var n=t.name;c(e,t),u(e,t),h(e,t);var i=r[n];i&&t.transformTo(i.left,i.top,i.width,i.height)})),l(e,i),p(t).parsed={regions:i,boundingRect:f(i)}}};function f(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();t=t||i.clone(),t.union(i)}return t}e.exports=d},"4e10":function(e,t,n){var i=n("6d8b"),a=n("e46b"),o=n("4f85"),r=n("eda2"),s=r.encodeHTML,l=r.addCommas,c=n("7023"),u=n("2b17"),h=u.retrieveRawAttr,p=n("5b87"),d=o.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=a(this,["value"]),n=t.mapDimension("value"),o=i.createHashMap(),r=[],s=[],l=0,c=t.count();l<c;l++){var u=t.getName(l);o.set(u,!0),r.push({name:u,value:t.get(n,l),selected:h(t,l,"selected")})}var d=p.load(this.getMapType(),this.option.nameMap);return i.each(d.regions,(function(e){var t=e.name;o.get(t)||(r.push({name:t}),s.push(t))})),this.updateSelectedMap(r),t.appendValues([],s),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=l(this.getRawValue(e)),i=t.getName(e),a=this.seriesGroup,o=[],r=0;r<a.length;r++){var c=a[r].originalData.indexOfName(i),u=t.mapDimension("value");isNaN(a[r].originalData.get(u,c))||o.push(s(a[r].name))}return o.join(", ")+"<br />"+s(i+" : "+n)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});i.mixin(d,c);var f=d;e.exports=f},"54ac":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"module"},[n("el-button",{staticClass:"hidden-lg-and-up",class:[e.unfold?"unfold":"fold"],staticStyle:{padding:"10px 12px","font-size":"20px"},attrs:{type:"primary",icon:e.unfold?"el-icon-s-unfold":"el-icon-s-fold",plain:""},on:{click:e.selectUnfold}}),n("el-container",[n("el-aside",{staticClass:"hidden-md-and-down"},[n("el-autocomplete",{staticClass:"inline-input",attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search","fetch-suggestions":e.querySearch},on:{select:e.handleSelect},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("el-table",{ref:"listTable",attrs:{data:e.nameList,"highlight-current-row":"",height:"calc(100vh - 60px)"},on:{"current-change":e.handleCurrentChange}},[n("el-table-column",{attrs:{property:"value",label:"高校名称",align:"center",sortable:""}})],1)],1),n("el-drawer",{staticClass:"hidden-lg-and-up",attrs:{visible:e.elDrawer,direction:"ltr",title:"高校列表","show-close":!1,wrapperClosable:!1,id:"drawer",size:"320px"},on:{"update:visible":function(t){e.elDrawer=t}}},[n("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search","fetch-suggestions":e.querySearch},on:{select:e.handleSelect},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("el-table",{ref:"listTable",attrs:{data:e.nameList,"highlight-current-row":"",height:"calc(100vh - 45px)"},on:{"current-change":e.handleCurrentChange}},[n("el-table-column",{attrs:{property:"value",label:"高校名称",align:"center",sortable:""}})],1)],1),n("el-container",[n("el-header",{attrs:{height:"auto"}},[e.currentRow?n("el-row",[n("el-col",{attrs:{lg:8,xs:24}},[n("h2",[e._v(e._s(e.currentRow.value))])]),n("el-col",{attrs:{lg:8,xs:24}},[n("span",[e._v("\n              合作广度（国家数量）\n              "),n("br"),n("strong",[e._v(e._s(e.currentData.slice(1).filter((function(e){return 0!==e})).length))])])]),n("el-col",{attrs:{lg:8,xs:24}},[n("span",[e._v("\n              合作深度（总次数）\n              "),n("br"),n("strong",[e._v(e._s(e.totalCites))])])])],1):e._e()],1),n("el-main",[n("div",{attrs:{id:"canvas"}})]),n("el-footer",{attrs:{height:"auto"}},[n("el-table",{ref:"indexTable",attrs:{data:e.currentTableData,"highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",align:"center"}}),n("el-table-column",{attrs:{property:"indicatorName",label:"国家",align:"left",sortable:""}}),n("el-table-column",{attrs:{property:"indicatorValue",label:"合作次数",align:"center",sortable:""}})],1)],1),n("CopyRight")],1)],1)],1)},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("6c7b"),n("75fc")),r=n("bd86"),s=(n("7f7f"),n("2f62")),l=n("2b0e"),c=n("3eba"),u=(n("675c"),n("7419"),n("007d"),n("8863"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{name:"",elDrawer:!1,unfold:!0,currentRow:null,currentData:[]}},components:{CopyRight:u["a"]},created:function(){var e=this;this.$store.dispatch("initData",{name:"worldMap"}),localStorage.getItem("dataset")&&this.$store.replaceState(Object.assign(this.$store.state,JSON.parse(localStorage.getItem("dataset")))),window.addEventListener("beforeunload",(function(){localStorage.setItem("dataset",JSON.stringify(e.$store.state))}))},updated:function(){var e=this.currentRow?this.currentRow.id-1:0;this.$refs.listTable.setCurrentRow(this.nameList[e])},methods:{selectUnfold:function(){this.elDrawer=!this.elDrawer,this.unfold=!this.unfold},handleCurrentChange:function(e){this.currentRow=e,this.currentData=this.dataList[this.currentRow.id-1].map((function(e,t){return 0!==t?+e:e})),this.drawRadar()},handleSelect:function(e){this.$refs.listTable.setCurrentRow(this.nameList[e.id-1])},querySearch:function(e,t){var n=e?this.nameList.filter((function(t){return 0===t.value.indexOf(e)})):this.nameList;t(n)},drawRadar:function(){var e=this,t=c["init"](document.getElementById("canvas"));t.showLoading(),l["default"].axios.get("../data/world-countries.json").then((function(n){t.hideLoading();var i=n.data.features.filter((function(e){return"Antarctica"!==e.properties.name})),a=p({},n.data,{features:i});c["registerMap"]("WORLD",a),t.setOption({tooltip:{},visualMap:{type:"continuous",min:0,max:Math.max.apply(Math,Object(o["a"])(e.currentData.slice(1))),range:[1,Math.max.apply(Math,Object(o["a"])(e.currentData.slice(1)))],text:["High","Low"],realtime:!1,calculable:!1,inRange:{color:["#C0C4CC","#F56C6C"]},left:40},series:[{type:"map",mapType:"WORLD",itemStyle:{},emphasis:{label:{show:!1},itemStyle:{color:"#1890FF",areaColor:"#1890FF"}},data:e.currentData.slice(1).map((function(t,n){return{name:e.indicatorsList[n+1],value:t}})),tooltip:{formatter:function(e){return console.log(e),"".concat(e.data.name,"<br>合作次数").concat(e.data.value)},backgroundColor:"rgba(255,255,255,0.8)",textStyle:{color:"#606266",fontWeight:"bold"},extraCssText:"box-shadow: 0px 0px 4px rgba(0,0,0,0.4)"}}]})}))}},computed:p({},Object(s["b"])(["indicatorsList","dataList","nameList"]),{currentTableData:function(){var e=this;return this.currentData.slice(1).map((function(t,n){return{indicatorName:e.indicatorsList[n+1],indicatorValue:t}})).filter((function(e){return 0!==e.indicatorValue}))},totalCites:function(){return this.currentData.slice(1).reduce((function(e,t){return e+t}),0)},maxminData:function(){var e=new Array(this.dataList[0].length-2).fill(0),t=this.dataList.reduce((function(e,t){var n=t.slice(2);return e.map((function(e,t){return e>+n[t]?e:+n[t]}))}),e),n=this.dataList.reduce((function(e,t){var n=t.slice(2);return e.map((function(e,t){return e<+n[t]?e:+n[t]}))}),e);return{maxData:t,minData:n}}})},f=d,g=(n("2bd0"),n("2877")),m=Object(g["a"])(f,i,a,!1,null,null,null);t["default"]=m.exports},"54fb":function(e,t){function n(e){e.eachSeriesByType("map",(function(e){var t=e.get("color"),n=e.getModel("itemStyle"),i=n.get("areaColor"),a=n.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:i,color:a})}))}e.exports=n},"5b87":function(e,t,n){var i=n("4e08"),a=(i.__DEV__,n("6d8b")),o=a.each,r=a.createHashMap,s=n("ec34"),l=n("4c86"),c=n("c92f"),u=n("9850"),h={geoJSON:l,svg:c},p={load:function(e,t){var n,i=[],a=r(),s=r(),l=f(e);return o(l,(function(r){var l=h[r.type].load(e,r);o(l.regions,(function(e){var n=e.name;t&&t.hasOwnProperty(n)&&(e=e.cloneShallow(n=t[n])),i.push(e),a.set(n,e),s.set(n,e.center)}));var c=l.boundingRect;c&&(n?n.union(c):n=c.clone())})),{regions:i,regionsMap:a,nameCoordMap:s,boundingRect:n||new u(0,0,0,0)}},makeGraphic:d("makeGraphic"),removeGraphic:d("removeGraphic")};function d(e){return function(t,n){var i=f(t),a=[];return o(i,(function(i){var o=h[i.type][e];o&&a.push(o(t,i,n))})),a}}function f(e){var t=s.retrieveMap(e)||[];return t}e.exports=p},"5f14":function(e,t,n){var i=n("6d8b"),a=n("41ef"),o=n("3842"),r=o.linearMap,s=i.each,l=i.isObject,c=-1,u=function(e){var t=e.mappingMethod,n=e.type,a=this.option=i.clone(e);this.type=n,this.mappingMethod=t,this._normalizeData=w[t];var o=h[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],"piecewise"===t?(f(a),p(a)):"category"===t?a.categories?d(a):f(a,!0):(i.assert("linear"!==t||a.dataExtent),f(a))};u.prototype={constructor:u,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return i.bind(this._normalizeData,this)}};var h=u.visualHandlers={color:{applyVisual:v("color"),getColorMapper:function(){var e=this.option;return i.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),y.call(this,e)}:function(t,n,i){var o=!!i;return!n&&(t=this._normalizeData(t)),i=a.fastLerp(t,e.parsedVisual,i),o?i:a.stringify(i,"rgba")},this)},_doMap:{linear:function(e){return a.stringify(a.fastLerp(e,this.option.parsedVisual),"rgba")},category:y,piecewise:function(e,t){var n=x.call(this,t);return null==n&&(n=a.stringify(a.fastLerp(e,this.option.parsedVisual),"rgba")),n},fixed:b}},colorHue:g((function(e,t){return a.modifyHSL(e,t)})),colorSaturation:g((function(e,t){return a.modifyHSL(e,null,t)})),colorLightness:g((function(e,t){return a.modifyHSL(e,null,null,t)})),colorAlpha:g((function(e,t){return a.modifyAlpha(e,t)})),opacity:{applyVisual:v("opacity"),_doMap:_([0,1])},liftZ:{applyVisual:v("liftZ"),_doMap:{linear:b,category:b,piecewise:b,fixed:b}},symbol:{applyVisual:function(e,t,n){var a=this.mapValueToVisual(e);if(i.isString(a))n("symbol",a);else if(l(a))for(var o in a)a.hasOwnProperty(o)&&n(o,a[o])},_doMap:{linear:m,category:y,piecewise:function(e,t){var n=x.call(this,t);return null==n&&(n=m.call(this,e)),n},fixed:b}},symbolSize:{applyVisual:v("symbolSize"),_doMap:_([0,1])}};function p(e){var t=e.pieceList;e.hasSpecialVisual=!1,i.each(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function d(e){var t=e.categories,n=e.visual,a=e.categoryMap={};if(s(t,(function(e,t){a[e]=t})),!i.isArray(n)){var o=[];i.isObject(n)?s(n,(function(e,t){var n=a[t];o[null!=n?n:c]=e})):o[c]=n,n=M(e,o)}for(var r=t.length-1;r>=0;r--)null==n[r]&&(delete a[t[r]],t.pop())}function f(e,t){var n=e.visual,a=[];i.isObject(n)?s(n,(function(e){a.push(e)})):null!=n&&a.push(n);var o={color:1,symbol:1};t||1!==a.length||o.hasOwnProperty(e.type)||(a[1]=a[0]),M(e,a)}function g(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:_([0,1])}}function m(e){var t=this.option.visual;return t[Math.round(r(e,[0,1],[0,t.length-1],!0))]||{}}function v(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function y(e){var t=this.option.visual;return t[this.option.loop&&e!==c?e%t.length:e]}function b(){return this.option.visual[0]}function _(e){return{linear:function(t){return r(t,e,this.option.visual,!0)},category:y,piecewise:function(t,n){var i=x.call(this,n);return null==i&&(i=r(t,e,this.option.visual,!0)),i},fixed:b}}function x(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=u.findPieceIndex(e,n),a=n[i];if(a&&a.visual)return a.visual[this.type]}}function M(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=i.map(t,(function(e){return a.parse(e)}))),t}var w={linear:function(e){return r(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=u.findPieceIndex(e,t,!0);if(null!=n)return r(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?c:t},fixed:i.noop};function S(e,t,n){return e?t<=n:t<n}u.listVisualTypes=function(){var e=[];return i.each(h,(function(t,n){e.push(n)})),e},u.addVisualHandler=function(e,t){h[e]=t},u.isValidType=function(e){return h.hasOwnProperty(e)},u.eachVisual=function(e,t,n){i.isObject(e)?i.each(e,t,n):t.call(n,e)},u.mapVisual=function(e,t,n){var a,o=i.isArray(e)?[]:i.isObject(e)?{}:(a=!0,null);return u.eachVisual(e,(function(e,i){var r=t.call(n,e,i);a?o=r:o[i]=r})),o},u.retrieveVisuals=function(e){var t,n={};return e&&s(h,(function(i,a){e.hasOwnProperty(a)&&(n[a]=e[a],t=!0)})),t?n:null},u.prepareVisualTypes=function(e){if(l(e)){var t=[];s(e,(function(e,n){t.push(n)})),e=t}else{if(!i.isArray(e))return[];e=e.slice()}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},u.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},u.findPieceIndex=function(e,t,n){for(var i,a=1/0,o=0,r=t.length;o<r;o++){var s=t[o].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return o;n&&h(s,o)}}for(o=0,r=t.length;o<r;o++){var l=t[o],c=l.interval,u=l.close;if(c){if(c[0]===-1/0){if(S(u[1],e,c[1]))return o}else if(c[1]===1/0){if(S(u[0],c[0],e))return o}else if(S(u[0],c[0],e)&&S(u[1],e,c[1]))return o;n&&h(c[0],o),n&&h(c[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(t,n){var o=Math.abs(t-e);o<a&&(a=o,i=n)}};var T=u;e.exports=T},"60e3":function(e,t,n){var i=n("6d8b"),a={get:function(e,t,n){var a=i.clone((o[e]||{})[t]);return n&&i.isArray(a)?a[a.length-1]:a}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},r=a;e.exports=r},"675c":function(e,t,n){var i=n("3eba");n("4e10"),n("a666"),n("49e8"),n("eeea");var a=n("cee1"),o=n("54fb"),r=n("f6ed"),s=n("9442"),l=n("7782");i.registerLayout(a),i.registerVisual(o),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,r),i.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},"6bd4":function(e,t){var n={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function i(e,t){if("world"===e){var i=n[t.name];if(i){var a=t.center;a[0]=i[0],a[1]=i[1]}}}e.exports=i},"6cc5":function(e,t,n){var i=n("6d8b"),a=n("401b"),o=n("1687"),r=n("9850"),s=n("0cde"),l=a.applyTransform;function c(){s.call(this)}function u(e){this.name=e,this.zoomLimit,s.call(this),this._roamTransformable=new c,this._rawTransformable=new c,this._center,this._zoom}function h(e,t,n,i){var a=n.seriesModel,o=a?a.coordinateSystem:null;return o===this?o[e](i):null}i.mixin(c,s),u.prototype={constructor:u,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new r(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new r(e,t,n,i)},transformTo:function(e,t,n,i){var a=this.getBoundingRect(),o=this._rawTransformable;o.transform=a.calculateTransform(new r(e,t,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect(),t=e.x+e.width/2,n=e.y+e.height/2;return[t,n]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=a.applyTransform([],i,e),n=a.applyTransform([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),o.copy(this.transform||(this.transform=[]),t.transform||o.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],o.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?l(n,e,i):a.copy(n,e)},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]},convertToPixel:i.curry(h,"dataToPoint"),convertFromPixel:i.curry(h,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},i.mixin(u,s);var p=u;e.exports=p},7023:function(e,t,n){var i=n("6d8b"),a={updateSelectedMap:function(e){this._targetList=i.isArray(e)?e.slice():[],this._selectTargetMap=i.reduce(e||[],(function(e,t){return e.set(t.name,t),e}),i.createHashMap())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e),i=this.get("selectedMode");"single"===i&&this._selectTargetMap.each((function(e){e.selected=!1})),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};e.exports=a},"72b6":function(e,t,n){var i=n("3eba"),a=n("6d8b"),o=n("2306"),r=n("eda2"),s=n("f934"),l=n("5f14"),c=i.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=r.normalizeCssArray(t.get("padding")||0),i=e.getBoundingRect();e.add(new o.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){n=n||{};var i=n.forceState,o=this.visualMapModel,r={};if("symbol"===t&&(r.symbol=o.get("itemSymbol")),"color"===t){var s=o.get("contentColor");r.color=s}function c(e){return r[e]}function u(e,t){r[e]=t}var h=o.controllerVisuals[i||o.getValueState(e)],p=l.prepareVisualTypes(h);return a.each(p,(function(i){var a=h[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",a=h.__alphaForOpacity),l.dependsOn(i,t)&&a&&a.applyVisual(e,c,u)})),r[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:a.noop});e.exports=c},7419:function(e,t,n){var i=n("3eba"),a=n("b336");n("bc5f"),n("ab05"),n("307a"),n("3cd6"),n("d6ef"),i.registerPreprocessor(a)},7782:function(e,t,n){var i=n("3eba"),a=n("6d8b");function o(e,t){a.each(t,(function(t){t.update="updateView",i.registerAction(t,(function(n,i){var a={};return i.eachComponent({mainType:"series",subType:e,query:n},(function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var i=e.getData();i.each((function(t){var n=i.getName(t);a[n]=e.isSelected(n)||!1}))})),{name:n.name,selected:a,seriesId:n.seriesId}}))}))}e.exports=o},9442:function(e,t,n){var i=n("6d8b");function a(e){var t=[];i.each(e.series,(function(e){e&&"map"===e.type&&(t.push(e),e.map=e.map||e.mapType,i.defaults(e,e.mapLocation))}))}e.exports=a},a4fe:function(e,t,n){var i=n("3eba"),a="\0_ec_interaction_mutex";function o(e,t,n){var i=l(e);i[t]=n}function r(e,t,n){var i=l(e),a=i[t];a===n&&(i[t]=null)}function s(e,t){return!!l(e)[t]}function l(e){return e[a]||(e[a]={})}i.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),t.take=o,t.release=r,t.isTaken=s},a666:function(e,t,n){var i=n("3eba"),a=n("6d8b"),o=n("2306"),r=n("0c41"),s="__seriesMapHighDown",l="__seriesMapCallKey",c=i.extendChartView({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id){o=this._mapDraw;o&&a.add(o.group)}else if(e.needsDrawMap){var o=this._mapDraw||new r(n,!0);a.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension("value"),(function(t,n){if(!isNaN(t)){var c=i.getItemLayout(n);if(c&&c.point){var p=c.point,d=c.offset,f=new o.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:p[0]+9*d,cy:p[1],r:3},silent:!0,z2:8+(d?0:o.Z2_EMPHASIS_LIFT+1)});if(!d){var g=e.mainSeries.getData(),m=i.getName(n),v=g.indexOfName(m),y=i.getItemModel(n),b=y.getModel("label"),_=y.getModel("emphasis.label"),x=g.getItemGraphicEl(v),M=a.retrieve2(e.getFormattedLabel(v,"normal"),m),w=a.retrieve2(e.getFormattedLabel(v,"emphasis"),M),S=x[s],T=Math.random();if(!S){S=x[s]={};var D=a.curry(u,!0),C=a.curry(u,!1);x.on("mouseover",D).on("mouseout",C).on("emphasis",D).on("normal",C)}x[l]=T,a.extend(S,{recordVersion:T,circle:f,labelModel:b,hoverLabelModel:_,emphasisText:w,normalText:M}),h(S,!1)}r.add(f)}}}))}});function u(e){var t=this[s];t&&t.recordVersion===this[l]&&h(t,e)}function h(e,t){var n=e.circle,i=e.labelModel,a=e.hoverLabelModel,r=e.emphasisText,s=e.normalText;t?(n.style.extendFrom(o.setTextStyle({},a,{text:a.get("show")?r:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=o.Z2_EMPHASIS_LIFT):(o.setTextStyle(n.style,i,{text:i.get("show")?s:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}e.exports=c},a7f2:function(e,t){var n=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function i(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:n[0]})}e.exports=i},ab05:function(e,t,n){var i=n("3eba"),a=n("6d8b"),o=n("2b8c"),r=n("5f14"),s=i.PRIORITY.VISUAL.COMPONENT;function l(e,t,n,i){for(var a=t.targetVisuals[i],o=r.prepareVisualTypes(a),s={color:e.getData().getVisual("color")},l=0,c=o.length;l<c;l++){var u=o[l],h=a["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(n,p,d)}return s.color;function p(e){return s[e]}function d(e,t){s[e]=t}}i.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var i=e.pipelineContext;!t.isTargetSeries(e)||i&&i.large||n.push(o.incrementalApplyVisual(t.stateList,t.targetVisuals,a.bind(t.getValueState,t),t.getDataDimension(e.getData())))})),n}}),i.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(a.bind(l,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimension(n),s=n.getDimensionInfo(r);null!=s&&(o.dimension=s.index,i.push(o))}})),e.getData().setVisual("visualMeta",i)}})},b336:function(e,t,n){var i=n("6d8b"),a=i.each;function o(e){var t=e&&e.visualMap;i.isArray(t)||(t=t?[t]:[]),a(t,(function(e){if(e){r(e,"splitList")&&!r(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&i.isArray(t)&&a(t,(function(e){i.isObject(e)&&(r(e,"start")&&!r(e,"min")&&(e.min=e.start),r(e,"end")&&!r(e,"max")&&(e.max=e.end))}))}}))}function r(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=o},bc5f:function(e,t,n){var i=n("6cb7f");i.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}))},c526:function(e,t){var n={axisPointer:1,tooltip:1,brush:1};function i(e,t,i){var a=t.getComponentByElement(e.topTarget),o=a&&a.coordinateSystem;return a&&a!==i&&!n[a.mainType]&&o&&o.model!==i}t.onIrrelevantElement=i},c92f:function(e,t,n){var i=n("3041"),a=i.parseSVG,o=i.makeViewBoxTransform,r=n("e1fc"),s=n("c7a2"),l=n("6d8b"),c=l.assert,u=l.createHashMap,h=n("9850"),p=n("e0d3"),d=p.makeInner,f=d(),g={load:function(e,t){var n=f(t).originRoot;if(n)return{root:n,boundingRect:f(t).boundingRect};var i=m(t);return f(t).originRoot=i.root,f(t).boundingRect=i.boundingRect,i},makeGraphic:function(e,t,n){var i=f(t),a=i.rootMap||(i.rootMap=u()),o=a.get(n);if(o)return o;var r=i.originRoot,s=i.boundingRect;return i.originRootHostKey?o=m(t,s).root:(i.originRootHostKey=n,o=r),a.set(n,o)},removeGraphic:function(e,t,n){var i=f(t),a=i.rootMap;a&&a.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}};function m(e,t){var n,i,l=e.svgXML;try{n=l&&a(l,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=n.root,c(null!=i)}catch(m){throw new Error("Invalid svg format\n"+m.message)}var u=n.width,p=n.height,d=n.viewBoxRect;if(t||(t=null==u||null==p?i.getBoundingRect():new h(0,0,0,0),null!=u&&(t.width=u),null!=p&&(t.height=p)),d){var f=o(d,t.width,t.height),g=i;i=new r,i.add(g),g.scale=f.scale,g.position=f.position}return i.setClipPath(new s({shape:t.plain()})),{root:i,boundingRect:t}}e.exports=g},cbb0:function(e,t,n){var i=n("6d8b"),a=n("f934"),o=a.getLayoutRect;function r(e,t,n){var i=e.option,a=i.align;if(null!=a&&"auto"!==a)return a;for(var r={width:t.getWidth(),height:t.getHeight()},s="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[s],u=[0,null,10],h={},p=0;p<3;p++)h[l[1-s][p]]=u[p],h[c[p]]=2===p?n[0]:i[c[p]];var d=[["x","width",3],["y","height",0]][s],f=o(h,r,i.padding);return c[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*r[d[1]]?0:1]}function s(e,t){return i.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}t.getItemAlign=r,t.makeHighDownBatch=s},cee1:function(e,t,n){var i=n("6d8b");function a(e){var t={};e.eachSeriesByType("map",(function(n){var a=n.getMapType();if(!n.getHostGeoModel()&&!t[a]){var o={};i.each(n.seriesGroup,(function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),(function(e,t){var a=i.getName(t),r=n.getRegion(a);if(r&&!isNaN(e)){var s=o[a]||0,l=n.dataToPoint(r.center);o[a]=s+1,i.setItemLayout(t,{point:l,offset:s})}}))}));var r=n.getData();r.each((function(e){var t=r.getName(e),n=r.getItemLayout(e)||{};n.showLabel=!o[t],r.setItemLayout(e,n)})),t[a]=!0}}))}e.exports=a},d6ef:function(e,t,n){var i=n("3eba"),a={type:"selectDataRange",event:"dataRangeSelected",update:"update"};i.registerAction(a,(function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}))},d81e:function(e,t){function n(e,t,n){var i=e.getZoom(),a=e.getCenter(),o=t.zoom,r=e.dataToPoint(a);if(null!=t.dx&&null!=t.dy){r[0]-=t.dx,r[1]-=t.dy;a=e.pointToData(r);e.setCenter(a)}if(null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}e.scale[0]*=o,e.scale[1]*=o;var c=e.position,u=(t.originX-c[0])*(o-1),h=(t.originY-c[1])*(o-1);c[0]-=u,c[1]-=h,e.updateTransform();a=e.pointToData(r);e.setCenter(a),e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}}t.updateCenterAndZoom=n},e46b:function(e,t,n){var i=n("b1d4"),a=n("6179"),o=n("6d8b"),r=o.extend,s=o.isArray;function l(e,t,n){t=s(t)&&{coordDimensions:t}||r({},t);var o=e.getSource(),l=i(o,t),c=new a(l,e);return c.initData(o,n),c}e.exports=l},eaea:function(e,t,n){var i=n("3eba"),a=n("6d8b"),o=n("22d1"),r=n("60e3"),s=n("5f14"),l=n("2b8c"),c=n("e0d3"),u=n("3842"),h=s.mapVisual,p=s.eachVisual,d=a.isArray,f=a.each,g=u.asc,m=u.linearMap,v=a.noop,y=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;o.canvasSupported||(n.realtime=!1),!t&&l.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=a.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=c.normalizeToArray(e),t},eachTargetSeries:function(e,t){a.each(this.getTargetSeriesIndices(),(function(n){e.call(t,this.ecModel.getSeriesByIndex(n))}),this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},formatValueText:function(e,t,n){var i,o,r=this.option,s=r.precision,l=this.dataBound,c=r.formatter;return n=n||["<",">"],a.isArray(e)&&(e=e.slice(),i=!0),o=t?e:i?[u(e[0]),u(e[1])]:u(e),a.isString(c)?c.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):a.isFunction(c)?i?c(e[0],e[1]):c(e):i?e[0]===l[0]?n[0]+" "+o[1]:e[1]===l[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o;function u(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=g([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length){if(null!=t)return e.getDimension(t);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var o=i[a],r=e.getDimensionInfo(o);if(!r.isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),o=t.controller||(t.controller={});a.merge(i,n),a.merge(o,n);var l=this.isCategory();function c(n){d(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")},f(this.stateList,(function(e){var t=n[e];if(a.isString(t)){var i=r.get(t,"active",l);i?(n[e]={},n[e][t]=i):delete n[e]}}),this)}function u(e,t,n){var i=e[t],a=e[n];i&&!a&&(a=e[n]={},f(i,(function(e,t){if(s.isValidType(t)){var n=r.get(t,"inactive",l);null!=n&&(a[t]=n,"color"!==t||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}})))}function g(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor");f(this.stateList,(function(o){var r=this.itemSize,s=e[o];s||(s=e[o]={color:l?i:[i]}),null==s.symbol&&(s.symbol=t&&a.clone(t)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&a.clone(n)||(l?r[0]:[r[0],r[0]])),s.symbol=h(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var c=s.symbolSize;if(null!=c){var u=-1/0;p(c,(function(e){e>u&&(u=e)})),s.symbolSize=h(c,(function(e){return m(e,[0,u],[0,r[0]],!0)}))}}),this)}c.call(this,i),c.call(this,o),u.call(this,i,"inRange","outOfRange"),g.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v}),b=y;e.exports=b},eeea:function(e,t,n){var i=n("4e08"),a=(i.__DEV__,n("3eba")),o=n("6d8b"),r=n("0141"),s=n("f934"),l=n("3842"),c=n("5b87"),u=n("ec34");function h(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],a=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(a[0])||isNaN(a[1])||this.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1])}var o,r=this.getBoundingRect(),c=e.get("layoutCenter"),u=e.get("layoutSize"),h=t.getWidth(),p=t.getHeight(),d=r.width/r.height*this.aspectScale,f=!1;if(c&&u&&(c=[l.parsePercent(c[0],h),l.parsePercent(c[1],p)],u=l.parsePercent(u,Math.min(h,p)),isNaN(c[0])||isNaN(c[1])||isNaN(u)||(f=!0)),f){var g={};d>1?(g.width=u,g.height=u/d):(g.height=u,g.width=u*d),g.y=c[1]-g.height/2,g.x=c[0]-g.width/2}else o=e.getBoxLayoutParams(),o.aspect=d,g=s.getLayoutRect(o,{width:h,height:p});this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function p(e,t){o.each(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}var d={dimensions:r.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",(function(e,i){var a=e.get("map"),o=e.get("aspectScale"),s=!0,l=u.retrieveMap(a);l&&l[0]&&"svg"===l[0].type?(null==o&&(o=1),s=!1):null==o&&(o=.75);var c=new r(a+i,a,e.get("nameMap"),s);c.aspectScale=o,c.zoomLimit=e.get("scaleLimit"),n.push(c),p(c,e),e.coordinateSystem=c,c.model=e,c.resize=h,c.resize(e,t)})),e.eachSeries((function(e){var t=e.get("coordinateSystem");if("geo"===t){var i=e.get("geoIndex")||0;e.coordinateSystem=n[i]}}));var i={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}})),o.each(i,(function(e,i){var a=o.map(e,(function(e){return e.get("nameMap")})),s=new r(i,i,o.mergeAll(a));s.zoomLimit=o.retrieve.apply(null,o.map(e,(function(e){return e.get("scaleLimit")}))),n.push(s),s.resize=h,s.aspectScale=e[0].get("aspectScale"),s.resize(e[0],t),o.each(e,(function(e){e.coordinateSystem=s,p(s,e)}))})),n},getFilledRegions:function(e,t,n){for(var i=(e||[]).slice(),a=o.createHashMap(),r=0;r<i.length;r++)a.set(i[r].name,i[r]);var s=c.load(t,n);return o.each(s.regions,(function(e){var t=e.name;!a.get(t)&&i.push({name:t})})),i}};a.registerCoordinateSystem("geo",d);var f=d;e.exports=f},ef6a:function(e,t){function n(e,t,n,o,r,s){e=e||0;var l=n[1]-n[0];if(null!=r&&(r=a(r,[0,l])),null!=s&&(s=Math.max(s,null!=r?r:0)),"all"===o){var c=Math.abs(t[1]-t[0]);c=a(c,[0,l]),r=s=a(c,[r,s]),o=0}t[0]=a(t[0],n),t[1]=a(t[1],n);var u=i(t,o);t[o]+=e;var h=r||0,p=n.slice();u.sign<0?p[0]+=h:p[1]-=h,t[o]=a(t[o],p);var d=i(t,o);null!=r&&(d.sign!==u.sign||d.span<r)&&(t[1-o]=t[o]+u.sign*r);d=i(t,o);return null!=s&&d.span>s&&(t[1-o]=t[o]+d.sign*s),t}function i(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function a(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}e.exports=n},f6ed:function(e,t,n){var i=n("6d8b");function a(e,t){var n={};return i.each(e,(function(e){e.each(e.mapDimension("value"),(function(t,i){var a="ec-"+e.getName(i);n[a]=n[a]||[],isNaN(t)||n[a].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(i,a){for(var o,r="ec-"+e[0].getName(a),s=0,l=1/0,c=-1/0,u=n[r].length,h=0;h<u;h++)l=Math.min(l,n[r][h]),c=Math.max(c,n[r][h]),s+=n[r][h];return o="min"===t?l:"max"===t?c:"average"===t?s/u:s,0===u?NaN:o}))}function o(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)})),i.each(t,(function(e,t){for(var n=a(i.map(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),o=0;o<e.length;o++)e[o].originalData=e[o].getData();for(o=0;o<e.length;o++)e[o].seriesGroup=e,e[o].needsDrawMap=0===o&&!e[o].getHostGeoModel(),e[o].setData(n.cloneShallow()),e[o].mainSeries=e[0]}))}e.exports=o}}]);
//# sourceMappingURL=chunk-3de7b963.c9c54114.js.map